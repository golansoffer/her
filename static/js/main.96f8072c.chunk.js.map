{"version":3,"sources":["App.js","index.js"],"names":["Players","onSubmit","useState","gold","setGold","players","setPlayers","playerName","setPlayerName","style","color","marginBottom","type","value","onChange","e","target","margin","marginRight","onClick","display","map","player","position","justifyContent","alignContent","alignItems","width","height","border","borderRadius","name","top","left","cursor","includes","index","indexOf","transformedArray","splice","length","step","payload","Payment","state","setState","minHeight","onKeyDown","keyCode","otherPayments","playerPayments","parseInt","payment","marginTop","reduce","a","b","createPlayer","createPlayers","accumulator","current","initialState","reducer","action","paymentsMap","payments","add","Object","keys","filter","key","flat","App","useReducer","dispatch","console","log","className","amountToAdd","amountToTake","totalGold","padding","g","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.96f8072c.chunk.js","sourcesContent":["import \"./styles.css\";\nimport React, { useReducer, useState } from \"react\";\n\nconst Players = ({ onSubmit }) => {\n  const [gold, setGold] = useState(10000);\n  const [players, setPlayers] = useState([]);\n  const [playerName, setPlayerName] = useState(\"\");\n  return (\n    <div style={{ color: \"#4bb7db\" }}>\n      <h3>Add Players</h3>\n      <div style={{ marginBottom: 16, color: \"#bdae2a\" }}>\n        Gold to start with:\n        <input\n          type=\"number\"\n          value={gold}\n          onChange={(e) => setGold(e.target.value)}\n          style={{ margin: 8 }}\n        />\n      </div>\n      <div style={{ marginBottom: 16 }}>\n        <input\n          value={playerName}\n          onChange={(e) => setPlayerName(e.target.value)}\n          style={{\n            marginRight: 8\n          }}\n        />\n        <button\n          onClick={() => {\n            setPlayers([...players, playerName]);\n            setPlayerName(\"\");\n          }}\n        >\n          Add Player\n        </button>\n      </div>\n\n      <div style={{ display: \"flex\", marginBottom: 16 }}>\n        {players.map((player) => {\n          return (\n            <div\n              key={`player-name-${player}`}\n              style={{\n                margin: 5,\n                position: \"relative\",\n                display: \"flex\",\n                justifyContent: \"center\",\n                alignContent: \"center\",\n                alignItems: \"center\",\n                width: \"200px\",\n                height: \"80px\",\n                border: \"1px solid #4bb7db\",\n                borderRadius: 4,\n                color: \"#4bb7db\"\n              }}\n            >\n              <div\n                name={player}\n                style={{\n                  color: \"#f27eb0\",\n                  position: \"absolute\",\n                  top: 0,\n                  left: 3,\n                  cursor: \"pointer\"\n                }}\n                onClick={() => {\n                  if (!players.includes(player)) return;\n                  const index = players.indexOf(player);\n                  const transformedArray = [...players];\n                  transformedArray.splice(index, 1);\n                  setPlayers(transformedArray);\n                }}\n              >\n                x\n              </div>\n              {player}\n            </div>\n          );\n        })}\n      </div>\n      {(players.length && (\n        <button\n          onClick={() =>\n            onSubmit({\n              step: 1,\n              payload: { players, gold }\n            })\n          }\n        >\n          Create\n        </button>\n      )) ||\n        null}\n    </div>\n  );\n};\n\nconst Payment = ({ players, onSubmit }) => {\n  const [state, setState] = useState({});\n  return (\n    <div>\n      <h3 style={{ color: \"#fc5203\" }}>Payments</h3>\n      <div\n        style={{\n          width: \"100%\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          marginBottom: 16\n        }}\n      >\n        {players.map((player, index) => {\n          return (\n            <div\n              key={`payment-card-${player.name}-${index}`}\n              style={{\n                margin: 8,\n                border: \"1px solid #bd5b2a\",\n                width: 200,\n                minHeight: 300\n              }}\n            >\n              <h3>{player.name}</h3>\n              <input\n                type=\"number\"\n                onKeyDown={(e) => {\n                  if (e.keyCode === 13) {\n                    const value = e.target.value;\n                    const otherPayments = state[player.name];\n                    const playerPayments = {\n                      [player.name]: [\n                        parseInt(value),\n                        ...(otherPayments ? otherPayments : [])\n                      ]\n                    };\n                    value &&\n                      setState({\n                        ...state,\n                        ...playerPayments\n                      });\n                  }\n                }}\n              />\n              <div style={{ margin: 18 }}>\n                {state[player.name] &&\n                  state[player.name].map((payment) => {\n                    return (\n                      <div\n                        key={`payment-${player.name}-${payment}`}\n                        style={{ margin: 5, color: \"#f2543f\" }}\n                      >\n                        -{payment}\n                      </div>\n                    );\n                  })}\n              </div>\n              {state[player.name] && (\n                <div style={{ marginTop: \"auto\" }}>\n                  total: {state[player.name].reduce((a, b) => a + b, 0)}\n                </div>\n              )}\n            </div>\n          );\n        })}\n      </div>\n      <button onClick={() => onSubmit({ step: 2, payload: state })}>\n        Submit\n      </button>\n    </div>\n  );\n};\n\nconst createPlayer = (playerName, gold) => ({\n  name: playerName,\n  gold\n});\n\nconst createPlayers = ({ players, gold }) =>\n  players.reduce((accumulator, current) => {\n    return [...accumulator, createPlayer(current, gold)];\n  }, []);\n\nconst mapPayments = (paymentsMap, players) =>\n  players.map((player) => ({\n    ...player,\n    payments: paymentsMap[player.name],\n    add: Object.keys(paymentsMap)\n      .filter((name) => name !== player.name)\n      .map((key) => paymentsMap[key])\n      .flat(1)\n  }));\n\nconst initialState = {\n  step: 1,\n  players: []\n};\n\nconst reducer = (state, action) => {\n  switch (action.step) {\n    case 1:\n      return {\n        ...state,\n        ...{ step: 2, players: createPlayers(action.payload) }\n      };\n    case 2:\n      return {\n        ...state,\n        ...{ step: 3, players: mapPayments(action.payload, state.players) }\n      };\n    default:\n      return state;\n  }\n};\n\nexport default function App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  console.log(state);\n  return (\n    <div className=\"App\">\n      <h1>Heroes 3 Calculator</h1>\n      <h3>calculates gold transfer</h3>\n      {state.step === 1 && <Players onSubmit={dispatch} />}\n      {state.step === 2 && (\n        <Payment onSubmit={dispatch} players={state.players} />\n      )}\n      {state.step === 3 && (\n        <div>\n          <h3>Summary</h3>\n          <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n            {state.players.map((player) => {\n              const amountToAdd = player.add.reduce((a, b) => a + b, 0);\n              const amountToTake = player.payments.reduce((a, b) => a + b, 0);\n              const totalGold = player.gold + amountToAdd - amountToTake;\n              return (\n                <div\n                  style={{\n                    margin: 5,\n                    padding: 8,\n                    border: \"1px solid red\"\n                  }}\n                >\n                  <h4>{player.name}</h4>\n                  <div>\n                    Recived: {amountToAdd}\n                    <br />\n                    {player.add.map((g) => `-  ${g} `)}\n                  </div>\n                  <br />\n                  <br />\n                  <div>\n                    Payments: {amountToTake}\n                    <br />\n                    {player.payments.map((g) => g)}\n                  </div>\n                  <br />\n                  <div>Total gold: {totalGold} </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}